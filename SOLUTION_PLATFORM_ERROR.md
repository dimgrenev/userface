# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã `y.platform is not a function`

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π AST-–∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞:
```
TypeError: y.platform is not a function
    at r (/Users/grenev/Documents/git_1/userface/build/index.js:32:71659)
    at /Users/grenev/Documents/git_1/userface/build/index.js:32:77929
    at src/compiler/sys.ts (/Users/grenev/Documents/git_1/userface/build/index.js:32:77946)
```

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

1. **–ê–Ω–∞–ª–∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫–∞–∑–∞–ª–∞, —á—Ç–æ `platform` –≤–µ–∑–¥–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –∫–∞–∫ —Å–≤–æ–π—Å—Ç–≤–æ, –∞ –Ω–µ —Ñ—É–Ω–∫—Ü–∏—è
2. **–ü—Ä–æ–±–ª–µ–º–∞ –≤ ts-morph**: –û—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `ts-morph` –≤ —Å—Ä–µ–¥–µ Node.js
3. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç –≤–µ—Ä—Å–∏–π**: –í–æ–∑–º–æ–∂–Ω—ã–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏ TypeScript –≤ ts-morph –∏ —Å–∏—Å—Ç–µ–º–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π

## –†–µ—à–µ–Ω–∏–µ

### 1. –°–æ–∑–¥–∞–Ω –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä

–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `standalone-analyzer.js` - –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç ts-morph:

```javascript
class StandaloneComponentAnalyzer {
  analyzeComponent(component, name) {
    // –ê–Ω–∞–ª–∏–∑ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π
    return {
      name,
      detectedPlatform: this.detectPlatform(code),
      props: this.extractProps(code),
      events: this.extractEvents(code),
      imports: this.extractImports(code),
      exports: this.extractExports(code)
    };
  }
}
```

### 2. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞

- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (React, Vue, Angular, Svelte, Vanilla)
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø—Ä–æ–ø—Å–æ–≤ –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∏ —Ç–∏–ø–æ–≤
- ‚úÖ –ü–æ–∏—Å–∫ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
- ‚úÖ –ê–Ω–∞–ª–∏–∑ –∏–º–ø–æ—Ä—Ç–æ–≤ –∏ —ç–∫—Å–ø–æ—Ä—Ç–æ–≤
- ‚úÖ –†–∞–±–æ—Ç–∞ –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Node.js –∏ –±—Ä–∞—É–∑–µ—Ä–æ–º

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `test-standalone.js` —Å —Ç–µ—Å—Ç–∞–º–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º:

- React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏
- Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å template –∏ script
- Angular –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º–∏

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```javascript
const { standaloneAnalyzer } = require('./standalone-analyzer.js');

const result = standaloneAnalyzer.analyzeComponent(component, 'MyComponent');
console.log(result);
// {
//   name: 'MyComponent',
//   detectedPlatform: 'react',
//   props: [...],
//   events: [...],
//   imports: [...],
//   exports: [...]
// }
```

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ts-morph
```bash
npm update ts-morph
```

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥—Ä—É–≥–æ–π –≤–µ—Ä—Å–∏–∏ TypeScript
```bash
npm install typescript@4.9.5 --save-dev
```

### 3. –ò–∑–æ–ª—è—Ü–∏—è ts-morph –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ
–°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è AST-–∞–Ω–∞–ª–∏–∑–∞ —Å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
2. **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**: –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –æ—Ç–ª–∞–¥–∫—É ts-morph –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –≤–µ—Ç–∫–µ
3. **–î–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è**: –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö TypeScript –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π

## –°—Ç–∞—Ç—É—Å

- ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞ –æ–±—Ö–æ–¥–Ω—ã–º –ø—É—Ç–µ–º
- ‚úÖ –°–æ–∑–¥–∞–Ω —Ä–∞–±–æ—á–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- üîÑ –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–∞–ª—å–Ω–µ–π—à–∞—è –æ—Ç–ª–∞–¥–∫–∞ ts-morph 